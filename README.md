# Smart TOC & Scroll

一个智能的浏览器扩展，为网页添加滚动到顶部按钮与目录树（TOC）功能。支持自动主题适配，适用于各种网站。

## 功能特点

- 智能主题适配
  - 自动检测网页背景色
  - 提供深色、浅色和彩色主题
  - 确保与网站风格协调
  - 支持实时主题切换

- 滚动到顶部按钮
  - 平滑的滚动动画
  - Material Design 风格
  - 响应式显示/隐藏
  - 悬停效果和动画
  - 半透明效果，减少视觉干扰

- 目录树功能
  - 自动生成页面目录
  - 智能识别标题层级
  - 平滑的展开/收起动画
  - Material Design 风格
  - 标题层级缩进和动画效果
  - 智能过滤导航栏和侧边栏内容
  - 支持自定义标题样式识别
  - 当前阅读位置高亮

- 性能监控
  - 实时监控目录生成性能
  - 跟踪目录更新性能
  - 监控滚动性能
  - 内存使用情况分析
  - 使用 Ctrl + Shift + P 快捷键查看性能统计

## 智能内容识别

- 自动识别主要内容区域
  - 支持多种内容容器选择器
  - 智能分析页面结构
  - 过滤无关内容
  - 适应不同网站布局

- 标题识别增强
  - 支持标准 HTML 标题标签
  - 识别自定义标题样式
  - 基于字体大小和权重判断层级
  - 智能过滤隐藏元素


## 安装方法

1. 从 Chrome 网上应用店安装
   - 访问 [Chrome 网上应用店](https://chromewebstore.google.com/detail/scroll-to-github-top/hkpdpioemdlpimimpjghlcdocmjmpkjc)
   - 点击"添加到 Chrome"

2. 手动安装
   - 下载最新版本的 [ZIP 文件](https://github.com/oiahoon/scroll-to-github-top/releases)
   - 解压文件
   - 打开 Chrome 浏览器，进入扩展程序页面 (chrome://extensions/)
   - 开启"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择解压后的文件夹

## 使用方法

1. 滚动到顶部
   - 点击右下角的按钮
   - 页面会平滑滚动到顶部

2. 使用目录树
   - 将鼠标悬停在按钮上，目录树会自动展开
   - 点击目录项可以跳转到对应的标题位置
   - 移开鼠标后，目录树会自动收起
   - 当前阅读位置会在目录中高亮

3. 性能监控
   - 使用 Ctrl + Shift + P 快捷键显示/隐藏性能统计面板
   - 查看目录生成、更新和滚动的性能指标
   - 监控内存使用情况（仅在 Chromium 支持 `performance.memory` 时显示）

## 设置

在扩展管理页中打开“扩展程序选项”，可配置：
- 展开方式：长按展开（默认）、悬停展开、点击展开
- 显示条件：滚动到指定屏幕数后显示、最少标题数量
- 位置：左下角 / 右下角
- 禁用域名列表
- 检测页面已有 TOC/回到顶部按钮时自动避开
- 强制显示（忽略页面已有控件）

## 主题系统

- 深色主题：适用于浅色背景网站
- 浅色主题：适用于深色背景网站
- 彩色主题：
  - 蓝色主题：适用于暖色背景网站
  - 绿色主题：适用于红色背景网站
  - 紫色主题：适用于黄色背景网站

## 限制与说明

- 目录识别依赖页面结构与样式，极少数站点可能需要额外适配。
- 在内容频繁变动的页面中，目录可能会重新生成。
- 性能面板为开发调试用途，默认隐藏，可通过快捷键开启/关闭。

## 更新日志

查看 [CHANGELOG.md](CHANGELOG.md) 了解详细的更新历史。

## 技术栈

- 原生 JavaScript
- CSS3 动画和过渡效果
- Material Design 风格
- Chrome Extension Manifest V3
- 智能颜色分析算法
- 自适应布局系统
- 性能监控和分析工具

## 贡献

欢迎提交 Issue 和 Pull Request！

## 许可证

MIT License - 查看 [LICENSE](LICENSE) 文件了解详情。
